
import { SVCConfig } from './types';

/**
 * IMPORTANTE: COLE O SEU LINK DO GOOGLE APPS SCRIPT ABAIXO
 * Sem este link, o computador e o celular não vão conversar.
 */
export const GLOBAL_SYNC_URL = "https://script.google.com/macros/s/AKfycbw93Ar7SLf9NdbWqofjtWJrDL1tOQalV6u-G0EgEZvZhjU2P2TipLwHYKRg-NTupQpi_A/exec"; 

export const VEHICLE_CATEGORIES = [
  'BULK - VAN EQUIPE ÚNICA POOL',
  'BULK - VUC EQUIPE ÚNICA POOL',
  'UTILITÁRIOS',
  'VAN',
  'VEÍCULO DE PASSEIO',
  'VUC',
  'Van Elétrica JV',
  'Veículo Operacional'
];

export const STOPPED_JUSTIFICATIONS = [
  'FOLGA',
  'FALTA',
  'MANUTENÇÃO',
  'SEM MOTORISTA',
  'OUTROS'
];

// Lista padrão (caso o servidor esteja offline)
const rawData = `
SSP38	JCI8F63
SSP38	JCI8F68
SSP38	JCI8F69
SSP38	JCI8F70
SSP20	JCI8F72
SSP36	JCI8F74
SSP38	JCI8F78
SSP36	JCI8F79
SSP20	JCI8F81
SSP20	JCI8F82
SSP27	JCI8F86
SSP9	JCI8F87
SSP9	JCI8F91
SSP36	JCJ0D36
SSP29	JCJ8I34
SSP27	JCJ8I42
SSP28	JCJ8I43
SSP28	JCJ8I61
SSP27	JCJ8I64
SSP8	JCJ8I66
SSP20	JCJ8I68
SSP8	JCJ8I71
SSP9	JCJ8I74
SSP20	JCK3F64
SSP29	JCM0G21
SSP37	RUL7F39
SSP37	RUL8C70
SSP37	RUM2B30
SSP37	RUM2B33
SSP37	RUM3C00
SSP37	RUM3C01
SSP27	RUM3C48
SSP27	RUM3C49
SSP27	RVD4D05
SSP27	RVD4D07
SSP27	RVD4D08
SSP27	RVD4D39
SSP27	RVD4D42
SSP27	RVD4D43
SSP20	RVE1C92
SSP20	RVE1C93
SSP20	RVE1C94
SSP20	RVE1C95
SSP20	RVE1C97
SSP20	RVE1C98
SSP27	SDQ2A54
SSP27	SDQ2A80
SSP27	SDQ2A81
SSP27	SDQ2A83
SSP20	SDQ2A85
SSP20	SDQ2A87
SSP20	SDQ2A88
SSP9	SDQ2J08
SSP9	SDQ2J10
SSP9	SDQ2J11
SSP9	SDQ2J14
SSP9	SDQ2J16
SSP9	SDQ2J48
SSP27	SEF1D60
SSP25	SEF1D73
SSP25	SEF1D76
SSP25	SEF1D79
SSP25	SEF1D80
SSP25	SEF1D82
SSP25	SEF1D83
SSP25	SEF1D84
SSP25	SEF1D85
SSP25	SEF1D86
SSP25	SEF1D87
SSP25	SEF1D89
SSP25	SEF1D90
SSP9	SQZ2J55
SSP12	SQZ4D15
SSP12	SQZ4D16
SSP36	SQZ4D18
SSP25	TAN8J56
SSP25	TAN9D43
SSP7	TAN9D66
SSP29	TAO0D55
SSP29	TAO0D60
SSP9	TAO0D61
SSP29	TAO0D64
SSP9	TAO0D68
SSP9	TAO0D69
SSP29	TAO0D70
SSP29	TAO0D71
SSP18	TAO0J39
SSP18	TAO0J40
SSP7	TAO0J41
SSP18	TAO0J42
SSP18	TAO0J43
SSP7	TAO0J45
SSP25	TAO0J46
SSP25	TAO0J47
SSP25	TAO0J48
SSP25	TAO0J49
SSP18	TAO1A53
SSP18	TAO1A54
SSP7	TAO1A57
SSP18	TAO1A58
SSP25	TAO1A59
SSP25	TAO1A61
SSP25	TAO1A62
SSP18	TAO1A63
SSP18	TAO1A64
SSP18	TAO1A65
SSP18	TAO1A66
SSP18	TAO1A67
SSP8	TAO1B10
SSP8	TAO1B16
SSP18	TAO1B40
SSP18	TAO1B42
SSP18	TAO1B46
SSP29	TAO3I98
SSP29	TAO3J28
SSP29	TAO3J37
SSP29	TAO3J40
SSP29	TAO3J53
SSP9	TAO3J57
SSP29	TAO3J58
SSP29	TAO3J67
SSP9	TAO3J68
SSP25	TAO3J69
SSP9	TAO3J70
SSP29	TAO3J71
SSP9	TAO4A32
SSP29	TAO4A34
SSP29	TAO4A37
SSP29	TAO4A41
SSP29	TAO4A42
SSP29	TAP7I43
SSP29	TAP7I44
SSP25	TAP7I51
SSP7	TAQ6J46
SSP34	TAQ7A31
SSP34	TAQ7A45
SSP34	TAQ7A46
SSP34	TAQ7A50
SSP34	TAQ7A58
SSP34	TAQ7A63
SSP34	TAQ7A72
SSP34	TAQ7A78
SSP34	TAQ7A83
SSP34	TAQ7A87
SSP7	TAQ7H14
SSP7	TAQ7H17
SSP7	TAQ7H26
SSP8	TAR0C41
SSP8	TAR0C75
SSP8	TAR0D57
SSP18	TAR1I63
SSP18	TAR1I64
SSP18	TAR1I65
SSP39	TAR1I66
SSP18	TAR1I68
SSP18	TAR1I69
SSP18	TAR1I70
SSP39	TAR1I71
SSP18	TAR1I72
SSP18	TAR1I76
SSP18	TAR1I77
SSP18	TAR1I79
SSP18	TAR1I80
SSP18	TAR1I83
SSP18	TAR1I85
SSP18	TAR1I87
SSP18	TAR1I91
SSP18	TAR1I93
SSP18	TAR1I96
SSP18	TAR1I99
SSP18	TAR1J34
SSP39	TAR1J35
SSP18	TAR1J52
SSP39	TAR1J72
SSP39	TAR2A19
SSP25	TAR2I90
SSP25	TAR2J06
SSP25	TAR2J07
SSP36	TAR2J08
SSP25	TAR2J09
SSP25	TAR2J11
SSP25	TAR2J12
SSP29	TAR2J26
SSP29	TAR2J27
SSP25	TAR2J51
SSP36	TAR2J58
SSP36	TAR2J59
SSP18	TAR2J97
SSP36	TAR3A45
SSP7	TAR3A49
SSP7	TAR3A54
SSP36	TAR3A55
SSP29	TAR3A74
SSP29	TAR3A76
SSP7	TAR3C43
SSP18	TAR3C94
SSP7	TAR3C99
SSP36	TAS1G93
SSP36	TAS1H01
SSP27	TAS1H25
SSP8	TAS1H33
SSP8	TAS1H35
SSP18	TAS1H36
SSP18	TAS1H42
SSP8	TAS1H43
SSP8	TAS1H48
SSP8	TAS1H67
SSP27	TAS1I77
SSP8	TAS1I80
SSP27	TAS1I82
SSP8	TAS1J05
SSP8	TAS1J11
SSP27	TAS1J12
SSP18	TAS2E38
SSP25	TAS2F21
SSP18	TAS2F38
SSP25	TAS2F41
SSP25	TAS2F42
SSP18	TAS2F81
SSP18	TAS8D63
SSP8	TAS9B86
SSP8	TAS9B87
SSP8	TAS9B88
SSP8	TAS9B92
SSP8	TAS9B93
SSP36	TAS9D45
SSP36	TAS9D47
SSP18	TAS9D48
SSP18	TAS9D55
SSP18	TAS9D57
SSP18	TAS9D64
SSP18	TAS9D66
SSP36	TAS9D70
SSP18	TAS9D72
SSP18	TAS9D75
SSP36	TAS9D80
SSP36	TAS9D81
SSP36	TAS9D90
SSP36	TAS9D92
SSP18	TAS9D94
SSP8	TAS9F68
SSP27	TAT0B65
SSP18	TAT0C30
SSP18	TAT0D66
SSP8	TAT0E37
SSP27	TAT1A51
SSP27	TAT1A53
SSP27	TAT1A63
SSP18	TAT1A74
SSP36	TAT1A78
SSP27	TAT1A81
SSP18	TAT1A85
SSP36	TAT1A92
SSP36	TAT1A93
SSP27	TAT1A94
SSP39	TAU2B93
SSP39	TAU2C08
SSP39	TAU2C09
SSP39	TAU2C10
SSP20	TAU2C14
SSP20	TAU2C16
SSP20	TAU2C18
SSP20	TAU2C21
SSP20	TAU2F67
SSP39	TAU2F71
SSP39	TAU2F78
SSP39	TAU2F79
SSP39	TAU2F86
SSP39	TAU3H08
SSP25	TBA6G45
SSP25	TAO1A56
SSP23	TCU1B20
SSP23	TCW4C27
SSP23	TCW4C34
SSP7	TCZ3F16
SSP7	TCZ3F21
SSP7	TCZ3F31
SSP23	TDB8H09
SSP23	TDB8H10
SSP23	TDB8H29
SSP39	TAU2F82
`;

export const parseSvcData = (input: string): SVCConfig[] => {
  const lines = input.trim().split('\n');
  const svcMap = new Map<string, { plate: string; category: string }[]>();

  lines.forEach(line => {
    const parts = line.trim().split(/\s+/);
    if (parts.length >= 2) {
      const svc = parts[0];
      const plate = parts[1];
      const vehicles = svcMap.get(svc) || [];
      vehicles.push({ plate, category: 'Veículo Operacional' });
      svcMap.set(svc, vehicles);
    }
  });

  return Array.from(svcMap.entries()).map(([name, vehicles]) => ({
    id: name,
    name: name,
    vehicles: vehicles
  })).sort((a, b) => a.name.localeCompare(b.name, undefined, { numeric: true }));
};

export const DEFAULT_SVC_LIST: SVCConfig[] = parseSvcData(rawData);
